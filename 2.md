## 策略分享系列——海龟交易法

故事要从 1983 年的芝加哥说起。那是一个风雪交加的冬天，期货大亨理查德·丹尼斯（Richard Dennis）挤在交易大厅的人群里，心里却惦记着另一桩“实验”——他打算用真金白银证明：**卓越的交易并非天赋，而是训练出来的纪律**。
 
于是，报纸上出现了一则奇怪的招聘启事：“想学做交易乌龟吗？两周培训，资金自带。”——乌龟（Turtle）是丹尼斯去新加坡参观龟苗场时受到的灵感：既然农场能批量孵化幼龟，自己也能批量孵化交易员。二十多名男女怀揣好奇来到丹尼斯办公室，其中有人做过兵、有人是扑克牌手，还有人只是刚从大学毕业。丹尼斯给他们看行情图，讲的第一句话是：

> “市场不会说话，但价格会。听价，不要听新闻。”

两周课程像军训：第一天教他们如何画一根K线；第二天讲什么是*20 天新高*、*20 天新低*；随后是最关键的一课——**“单位（Unit）”**。丹尼斯在黑板上写下公式：

```
Unit = 账户净值 × 1%  ÷  (2 × ATR × 合约乘数)
```

他告诉学员：

* **ATR** 像是海浪的浪高，浪大时要用更小的船。
* “2×ATR” 是船与岸的安全距离，跌破就要回头。
* 一旦船顺风，**每漂移半个ATR** 就再加一条船——让风把整个船队推向深海。

两周后，“小乌龟们”带着一叠抄写得密密麻麻的纸条踏进市场。最早的胜负来自糖和日元：糖价连续冲破20日高点，他们遵照笔记买入；三天后价格回跳，触到10日低点，整队平仓——小亏。但随后的日元期货一路狂飙，他们第一次体验到“加仓”带来的滚雪球：仓位像多米诺骨牌往上涨，利润在账面上翻滚。

丹尼斯没有天天盯着他们，他只做一件事：**检查是否严格执行**。有人在震荡市里连亏五次，情绪崩溃想放弃，加仓却迟迟不敢；丹尼斯拍了一下桌子：“亏损是通往大利润的门票，不买票，永远进不了场。”

五年过去，实验账面翻了几十倍。那些最刻板执行规则的人，收益最高——他们真的像乌龟：慢、冷静，却一步一印往前爬。

### 说回策略本身

把当年乌龟笔记摊开，无非几行字：

1. **突破进场**——价格一旦爬到20日新高就顺势买；跌到20日新低就反手做空。
2. **加码乘风**——行情再走0.5 ATR，加一笔；最多五笔。
3. **ATR止损**——若跌回入场价 − 2 ATR，全部撤退。
4. **风险恒定**——每笔亏损不得超过账户1%。

听起来简单，却把*大赚小亏*写进了骨髓：震荡期像交过路费，小额止损接连发生；可一旦遇到真正的单边浪潮——玉米大牛市、黄金大空头——盈利单子像帆布吃满海风，一船接一船驶向远方。

### 今天的故事续集

四十年过去，市场从交易大厅的手势吆喝变成了你电脑里的分时K线。原则却依旧：

* 如果你盯的是黑色金属的30分钟K线，20 天可以换成40根K；
* ATR 还是最好的“浪高尺”；
* 加仓与止损仍是一体两面——一个让利润奔跑，一个铲断蔓延的亏损。

区别只在于，今天的“乌龟”不必站在寒风里的交易所喊单，而是写一段Python，把规则交给程序，然后像当年的丹尼斯一样，等着风雪中的大浪把船推远。

**海龟法则告诉我们：**

> 只要你肯在无数小亏里守纪律，市场终会送来那一笔足够大的顺风，回报你的耐心与胆识。

而故事也提醒：真正艰难的不是找规则，而是像乌龟那样，在浪潮来临前始终慢慢、稳稳地爬。


##### 注：ATR（Average True Range）专业速览

|要点|说明|
| - | - |
|**定义**| ATR ＝ 一段时期内 **True Range** 的移动平均（常用 14 期）。ATR 衡量价格波动幅度，而非方向。|
| **True Range 计算** | 取以下三者的最大值：<br>1️⃣ 当期最高价 − 当期最低价<br>2️⃣ \|当期最高价 − 上期收盘价\|<br>3️⃣ \|当期最低价 − 上期收盘价\|                                                           |
| **常用配置** | 日线用 14 日，30 min 可用 40 根；可选 **SMA** 或 **EMA** 平滑。 |
| **核心作用** | 1. **波动度刻度**：ATR ↑ ⇒ 波动放大；ATR ↓ ⇒ 市场平静。<br>2. **动态止损**：止损距入场价 n × ATR，适应不同波动环境。<br>3. **仓位 sizing**：单笔风险 = 账户净值 × R；手数 = 风险 ÷ (ATR × 合约乘数)。 |
| **典型参数** | 趋势系统常用 2 × ATR 设初止损；加仓/减仓级距可用 0.5–1 × ATR。 |
| **易错点**   | 1. 高波动期 ATR 暴涨会导致仓位骤降，需与最小手数约束配合。<br>2. 横盘期 ATR 偏低，止损过近易被噪声触发，可设 ATR 下限或改用分位数过滤。 |

**总结**：ATR 是量化交易里“价格波动量尺”，用于判断市场活跃度、设置波动自适应的止损/仓位。

